module("rules"),test("rules() - internal - input",function(){{var e=$("#firstname");$("#testForm1").validate()}same(e.rules(),{required:!0,minlength:2})}),test("rules(), ignore method:false",function(){{var e=$("#firstnamec");$("#testForm1clean").validate({rules:{firstname:{required:!1,minlength:2}}})}same(e.rules(),{minlength:2})}),test("rules() HTML5 required (no value)",function(){{var e=$("#testForm11text1");$("#testForm11").validate()}same(e.rules(),{required:!0})}),test("rules() - internal - select",function(){{var e=$("#meal");$("#testForm3").validate()}same(e.rules(),{required:!0})}),test("rules() - external",function(){{var e=$("#text1");$("#form").validate({rules:{action:{date:!0,min:5}}})}same(e.rules(),{date:!0,min:5})}),test("rules() - external - complete form",function(){expect(1);var e=$.extend({},$.validator.methods),t=$.extend({},$.validator.messages);$.validator.addMethod("verifyTest",function(){return ok(!0,"method executed"),!0});var n=$("#form").validate({rules:{action:{verifyTest:!0}}});n.form(),$.validator.methods=e,$.validator.messages=t}),test("rules() - internal - input",function(){{var e=$("#form8input");$("#testForm8").validate()}same(e.rules(),{required:!0,number:!0,rangelength:[2,8]})}),test("rules(), merge min/max to range, minlength/maxlength to rangelength",function(){jQuery.validator.autoCreateRanges=!0;$("#testForm1clean").validate({rules:{firstname:{min:5,max:12},lastname:{minlength:2,maxlength:8}}});same($("#firstnamec").rules(),{range:[5,12]}),same($("#lastnamec").rules(),{rangelength:[2,8]}),jQuery.validator.autoCreateRanges=!1}),test("rules(), gurantee that required is at front",function(){function e(e){var t=[];return jQuery.each($(e).rules(),function(e){t.push(e)}),t.join(" ")}$("#testForm1").validate();var t=$("#v2").validate();$("#subformRequired").validate(),equals("required minlength",e("#firstname")),equals("required maxlength minlength",e("#v2-i6")),equals("required maxlength",e("#co_name")),QUnit.reset(),jQuery.validator.autoCreateRanges=!0,t=$("#v2").validate(),equals("required rangelength",e("#v2-i6")),$("#subformRequired").validate({rules:{co_name:"required"}}),$("#co_name").removeClass(),equals("required maxlength",e("#co_name")),jQuery.validator.autoCreateRanges=!1}),test("rules(), evaluate dynamic parameters",function(){expect(2);$("#testForm1clean").validate({rules:{firstname:{min:function(e){return equals($("#firstnamec")[0],e),12}}}});same($("#firstnamec").rules(),{min:12})}),test("rules(), class and attribute combinations",function(){$.validator.addMethod("customMethod1",function(){return!1},""),$.validator.addMethod("customMethod2",function(){return!1},"");$("#v2").validate({rules:{"v2-i7":{required:!0,minlength:2,customMethod:!0}}});same($("#v2-i1").rules(),{required:!0}),same($("#v2-i2").rules(),{required:!0,email:!0}),same($("#v2-i3").rules(),{url:!0}),same($("#v2-i4").rules(),{required:!0,minlength:2}),same($("#v2-i5").rules(),{required:!0,minlength:2,maxlength:5,customMethod1:"123"}),jQuery.validator.autoCreateRanges=!0,same($("#v2-i5").rules(),{required:!0,customMethod1:"123",rangelength:[2,5]}),same($("#v2-i6").rules(),{required:!0,customMethod2:!0,rangelength:[2,5]}),jQuery.validator.autoCreateRanges=!1,same($("#v2-i7").rules(),{required:!0,minlength:2,customMethod:!0}),delete $.validator.methods.customMethod1,delete $.validator.messages.customMethod1,delete $.validator.methods.customMethod2,delete $.validator.messages.customMethod2}),test("rules(), dependency checks",function(){var e=$("#testForm1clean").validate({rules:{firstname:{min:{param:5,depends:function(e){return/^a/.test($(e).val())}}},lastname:{max:{param:12},email:{depends:function(){return!0}}}}}),t=$("#firstnamec").rules();equals(0,e.objectLength(t)),$("#firstnamec").val("ab"),same($("#firstnamec").rules(),{min:5}),same($("#lastnamec").rules(),{max:12,email:!0})}),test("rules(), add and remove",function(){$.validator.addMethod("customMethod1",function(){return!1},""),$("#v2").validate();var e=$("#v2-i5").removeClass("required").removeAttrs("minlength maxlength");same($("#v2-i5").rules(),{customMethod1:"123"}),$("#v2-i5").addClass("required").attr(e),same($("#v2-i5").rules(),{required:!0,minlength:2,maxlength:5,customMethod1:"123"}),$("#v2-i5").addClass("email").attr({min:5}),same($("#v2-i5").rules(),{required:!0,email:!0,minlength:2,maxlength:5,min:5,customMethod1:"123"}),$("#v2-i5").removeClass("required email").removeAttrs("minlength maxlength customMethod1 min"),same($("#v2-i5").rules(),{}),delete $.validator.methods.customMethod1,delete $.validator.messages.customMethod1}),test("rules(), add and remove static rules",function(){$("#testForm1clean").validate({rules:{firstname:"required date"}});same($("#firstnamec").rules(),{required:!0,date:!0}),$("#firstnamec").rules("remove","date"),same($("#firstnamec").rules(),{required:!0}),$("#firstnamec").rules("add","email"),same($("#firstnamec").rules(),{required:!0,email:!0}),$("#firstnamec").rules("remove","required"),same($("#firstnamec").rules(),{email:!0}),same($("#firstnamec").rules("remove"),{email:!0}),same($("#firstnamec").rules(),{}),$("#firstnamec").rules("add","required email"),same($("#firstnamec").rules(),{required:!0,email:!0}),same($("#lastnamec").rules(),{}),$("#lastnamec").rules("add","required"),$("#lastnamec").rules("add",{minlength:2}),same($("#lastnamec").rules(),{required:!0,minlength:2});var e=$("#lastnamec").rules("remove","required email");same($("#lastnamec").rules(),{minlength:2}),$("#lastnamec").rules("add",e),same($("#lastnamec").rules(),{required:!0,minlength:2})}),test("rules(), add messages",function(){$("#firstnamec").attr("title",null);var e=$("#testForm1clean").validate({rules:{firstname:"required"}});$("#testForm1clean").valid(),$("#firstnamec").valid(),same(e.settings.messages.firstname,void 0),$("#firstnamec").rules("add",{messages:{required:"required"}}),$("#firstnamec").valid(),same(e.errorList[0]&&e.errorList[0].message,"required")});