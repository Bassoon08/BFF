function Note(e,t,n,a,r,o){function s(){ctx.fillStyle="black",ctx.strokeStyle="black",ctx.font="7pt Calibri",c(),A?O?ctx.drawImage(N,5,-15,10,31):ctx.drawImage(S,5,-15,10,31):Y?O?ctx.drawImage(I,5,-15,13,20):ctx.drawImage(C,5,-15,13,20):E&&(O?ctx.drawImage(P,5,-10,16,15.95):ctx.drawImage(k,5,-10,16,15.95)),l(),j||u(),f()}function c(){ctx.save(),ctx.beginPath(),ctx.moveTo(0,y),ctx.lineTo(r,y),ctx.moveTo(0,b),ctx.lineTo(r,b),ctx.moveTo(0,T),ctx.lineTo(r,T),ctx.moveTo(0,w),ctx.lineTo(r,w),ctx.moveTo(0,_),ctx.lineTo(r,_),ctx.closePath(),ctx.lineWidth=.5,ctx.stroke(),ctx.restore()}function l(){ctx.save(),""!=e&&("♮"==t?isMobile()?ctx.fillText(e,25,-12.5):(ctx.fillText(e[0],25,-12.5),ctx.font="4pt Calibri",ctx.fillText(e[1],30,-16)):isMobile()?ctx.fillText(e,36,-10):(ctx.fillText(t+e[0],25,-12.5),ctx.font="4pt Calibri",ctx.fillText(e[1],36,-16))),ctx.restore()}function u(){var e=g()>11?75-10*(g()-11):75+10*g(),n=g()>11?M+2.5*(g()-11):M-2.5*g();Y&&(n-=5),ctx.save(),ctx.translate(e,n),ctx.rotate(-(10*Math.PI)/180),ctx.scale(1.25,.9),ctx.beginPath(),ctx.arc(0,0,3,0,2*Math.PI,!1),ctx.closePath(),ctx.fill(),ctx.restore(),"♮"!=t&&(ctx.font="8pt Calibri",ctx.fillText(t,e-10,n+3)),10==g()&&Y&&(ctx.save(),ctx.translate(e,y-5),ctx.beginPath(),ctx.moveTo(-7,0),ctx.lineTo(7,0),ctx.closePath(),ctx.stroke(),ctx.restore()),(0==g()&&!Y||g>11)&&(ctx.save(),ctx.translate(e,M),ctx.beginPath(),ctx.moveTo(-7,0),ctx.lineTo(7,0),ctx.closePath(),ctx.stroke(),ctx.restore()),(g()>11||0==g()&&!Y)&&(ctx.save(),ctx.translate(e,M),ctx.beginPath(),ctx.moveTo(-7,0),ctx.lineTo(7,0),ctx.closePath(),ctx.stroke(),ctx.restore()),g()>12&&(ctx.save(),ctx.translate(e,M+5),ctx.beginPath(),ctx.moveTo(-7,0),ctx.lineTo(7,0),ctx.closePath(),ctx.stroke(),ctx.restore())}function f(){var e;for(ctx.fillStyle="red",ctx.strokeStyle="red",e=0;15>e;e++){var n=e>11?75-10*(e-11):75+10*e,a=e>11?M+2.5*(e-11):M-2.5*e;if(Y&&(a-=5),v[e]){if(ctx.save(),ctx.translate(n,a),ctx.rotate(-(10*Math.PI)/180),ctx.scale(1.25,.9),ctx.beginPath(),ctx.arc(0,0,3,0,2*Math.PI,!1),ctx.closePath(),ctx.fill(),ctx.restore(),j)switch(ctx.font="8pt Calibri",t){case"♯":ctx.fillText("♯",n-10,a+3);break;case"♮":ctx.fillText("♮",n-10,a+3);break;case"♭":ctx.fillText("♭",n-10,a+3)}10==e&&Y&&(ctx.save(),ctx.translate(n,y-5),ctx.beginPath(),ctx.moveTo(-7,0),ctx.lineTo(7,0),ctx.closePath(),ctx.stroke(),ctx.restore()),(e>11||0==e&&!Y)&&(ctx.save(),ctx.translate(n,M),ctx.beginPath(),ctx.moveTo(-7,0),ctx.lineTo(7,0),ctx.closePath(),ctx.stroke(),ctx.restore()),e>12&&(ctx.save(),ctx.translate(n,M+5),ctx.beginPath(),ctx.moveTo(-7,0),ctx.lineTo(7,0),ctx.closePath(),ctx.stroke(),ctx.restore())}}}function h(){s(),"show"!=o&&d()}function d(){var e;for(j=O=!1,e=0;15>e;e++)v[e]=!1;if(Y)var t=-5;else var t=0;for(mouse_X>(20+n)*scale_X&&(r+n)*scale_X>mouse_X?mouse_Y>(M-2.5+a+t)*scale_Y&&(M+2.5+a+t)*scale_Y>mouse_Y?v[0]=!0:(M+a+t)*scale_Y>mouse_Y&&mouse_Y>(_+a+t)*scale_Y?v[1]=!0:mouse_Y>(_-2.5+a+t)*scale_Y&&(_+2.5+a+t)*scale_Y>mouse_Y?v[2]=!0:(_+a+t)*scale_Y>mouse_Y&&mouse_Y>(w+a+t)*scale_Y?v[3]=!0:mouse_Y>(w-2.5+a+t)*scale_Y&&(w+2.5+a+t)*scale_Y>mouse_Y?v[4]=!0:(w+a+t)*scale_Y>mouse_Y&&mouse_Y>(T+a+t)*scale_Y?v[5]=!0:mouse_Y>(T-2.5+a+t)*scale_Y&&(T+2.5+a+t)*scale_Y>mouse_Y?v[6]=!0:(T+a+t)*scale_Y>mouse_Y&&mouse_Y>(b+a+t)*scale_Y?v[7]=!0:mouse_Y>(b-2.5+a+t)*scale_Y&&(b+2.5+a+t)*scale_Y>mouse_Y?v[8]=!0:(b+a+t)*scale_Y>mouse_Y&&mouse_Y>(y+a+t)*scale_Y?v[9]=!0:mouse_Y>(y-2.5+a+t)*scale_Y&&(y+2.5+a+t)*scale_Y>mouse_Y?v[10]=!0:(y+a+t)*scale_Y>mouse_Y&&mouse_Y>(y-5+a+t)*scale_Y?v[11]=!0:(M+5+a+t)*scale_Y>mouse_Y&&mouse_Y>(M+a+t)*scale_Y&&E?v[12]=!0:(M+7.5+a+t)*scale_Y>mouse_Y&&mouse_Y>(M+2.5+a+t)*scale_Y&&E?v[13]=!0:(M+10+a+t)*scale_Y>mouse_Y&&mouse_Y>(M+5+a+t)*scale_Y&&E&&(v[14]=!0):mouse_X>(0+n)*scale_X&&(25+n)*scale_X>mouse_X&&mouse_Y>(-15+a)*scale_Y&&(10+a)*scale_Y>mouse_Y&&(O=!0),e=0;15>e;e++)v[e]&&e==g()&&(j=!0);var t=j||O?!0:!1;for(e=0;15>e;e++)t=t||v[e]?!0:!1;t&&""==pointer?pointer="note":t||"note"!=pointer||(pointer="")}function p(){if(e=m(),!O)if(11!=g()||A){if(0==g()&&!E){O=!0;var n=!0}}else{O=!0;var n=!1}if(j)switch(t){case"♯":t="♭";break;case"♭":t="♮";break;case"♮":t="♯"}else O&&(n?E?(E=!1,A=!0,-1==g()&&(e="g5")):Y?(Y=!1,E=!0,-1==g()&&(e="b3")):A&&(A=!1,Y=!0,-1==g()&&(e="a4")):E?(E=!1,Y=!0,-1==g()&&(e="d3")):Y?(Y=!1,A=!0,-1==g()&&(e="c4")):A&&(A=!1,E=!0,-1==g()&&(e="b3")))}function m(){var t=e;return E?v[0]?t="e2":v[1]?t="f2":v[2]?t="g2":v[3]?t="a2":v[4]?t="b2":v[5]?t="c3":v[6]?t="d3":v[7]?t="e3":v[8]?t="f3":v[9]?t="g3":v[10]?t="a3":v[11]?t="b3":v[12]?t="d2":v[13]?t="c1":v[14]&&(t="b1"):Y?v[0]?t="d3":v[1]?t="e3":v[2]?t="f3":v[3]?t="g3":v[4]?t="a3":v[5]?t="b3":v[6]?t="c4":v[7]?t="d4":v[8]?t="e4":v[9]?t="f4":v[10]?t="g4":v[11]&&(t="a4"):v[0]?t="c4":v[1]?t="d4":v[2]?t="e4":v[3]?t="f4":v[4]?t="g4":v[5]?t="a4":v[6]?t="b4":v[7]?t="c5":v[8]?t="d5":v[9]?t="e5":v[10]?t="f5":v[11]&&(t="g5"),t}function g(){var t=-1;return E?"e2"==e?t=0:"f2"==e?t=1:"g2"==e?t=2:"a2"==e?t=3:"b2"==e?t=4:"c3"==e?t=5:"d3"==e?t=6:"e3"==e?t=7:"f3"==e?t=8:"g3"==e?t=9:"a3"==e?t=10:"b3"==e?t=11:"d2"==e?t=12:"c1"==e?t=13:"b1"==e&&(t=14):Y?"d3"==e?t=0:"e3"==e?t=1:"f3"==e?t=2:"g3"==e?t=3:"a3"==e?t=4:"b3"==e?t=5:"c4"==e?t=6:"d4"==e?t=7:"e4"==e?t=8:"f4"==e?t=9:"g4"==e?t=10:"a4"==e&&(t=11):"c4"==e?t=0:"d4"==e?t=1:"e4"==e?t=2:"f4"==e?t=3:"g4"==e?t=4:"a4"==e?t=5:"b4"==e?t=6:"c5"==e?t=7:"d5"==e?t=8:"e5"==e?t=9:"f5"==e?t=10:"g5"==e&&(t=11),t}function x(){var e="natural";switch(t){case"♭":var e="flat";break;case"♯":var e="sharp"}return m()+"_"+String(e)}var v=new Array(15),y=-10,b=-5,T=0,w=5,_=10,M=15,k=new Image,C=new Image,S=new Image,P=new Image,I=new Image,N=new Image,E=!0,Y=!1,A=!1,j=!1,O=!1;this.Update=h,this.OnClick=p,this.ToString=x;for(i in v)v[i]=!1;-1==g()&&(E=!1,Y=!0,(g()>8||-1==g())&&(Y=!1,A=!0)),S.src="/assets/music/g-clef-14eb2629b00fe3980a2cd96d05be9659.png",C.src="/assets/music/c-clef-eccad20080389cad1f04ee2d4e607ab5.png",k.src="/assets/music/f-clef-a3c49893e534a66ad4a1cdca4c920f5c.png",N.src="/assets/music/g-clef-red-032e07ae37d09080d9d594524058aa54.png",I.src="/assets/music/c-clef-red-e4224ed1a9867ee9b924fbdd235767c7.png",P.src="/assets/music/f-clef-red-5351255f030a847d4d60f371860396c8.png"}